# META 학습종합검사 점수 체계

## 1. 점수 유형

검사 결과는 **T점수**와 **백분위**로 제공됩니다.

### 1.1 T점수 (T-Score)

- **정의**: 평균이 50, 표준편차가 10인 표준화 점수
- **범위**: 일반적으로 20~80 (이론적으로 0~100)
- **특징**: 전체 평균에서 상대적 위치 파악 가능

```
T점수 = {(원점수 평균 - 기준데이터 평균) / 기준데이터 SD} × 10 + 50
```

### 1.2 백분위 (Percentile)

- **정의**: 전체를 100으로 볼 때, 개인 점수가 아래부터 몇 번째에 해당하는지
- **범위**: 0~100
- **해석 예시**: 백분위 80 = 본인보다 낮은 학생 79명, 높은 학생 20명

---

## 2. T점수 계산 공식

### 2.1 기본 공식

```
T점수 = {(측정값 평균 - 기준데이터 평균) / 기준데이터 표준편차} × 10 + 50
```

### 2.2 Depth별 계산 방식

| Depth | 계산 대상 | 공식 |
|-------|-----------|------|
| Depth 3 (변인명) | 해당 변인 문항들의 평균 | T = {(변인평균 - 기준평균) / 기준SD} × 10 + 50 |
| Depth 2 (중분류) | 하위 변인들의 평균 | T = {(중분류평균 - 기준평균) / 기준SD} × 10 + 50 |
| Depth 1 (대분류) | 하위 중분류들의 평균 | T = {(대분류평균 - 기준평균) / 기준SD} × 10 + 50 |

### 2.3 반올림 규칙

> **중요**: T점수는 소수점 첫째 자리까지 계산 후 **반올림**하여 정수로 처리

---

## 3. 등급 기준

### 3.1 5단계 등급 체계

| 등급 | T점수 범위 | 백분위 범위 | 색상(교사용) | 색상(학생용) |
|------|-----------|-------------|--------------|--------------|
| 매우 낮음 | 0 ~ 29 | 0% ~ 2% | 빨강 | 빨강 |
| 낮음 | 30 ~ 39 | 2% ~ 16% | 노랑 | 빨강 |
| 보통 | 40 ~ 59 | 16% ~ 84% | - | 초록 |
| 높음 | 60 ~ 69 | 84% ~ 98% | - | 파랑 |
| 매우 높음 | 70 ~ 100 | 98% ~ 100% | - | 파랑 |

### 3.2 정규분포 기준

```
                        평균(50)
                          │
                          ▼
    ┌─────┬─────┬─────────┼─────────┬─────┬─────┐
    │     │     │         │         │     │     │
  2.14% 13.59%  34.13%    │    34.13% 13.59% 2.14%
    │     │     │         │         │     │     │
────┴─────┴─────┴─────────┴─────────┴─────┴─────┴────
   10    20    30    40   50   60    70    80    90
   
   매우낮음  낮음    보통          높음   매우높음
```

---

## 4. 기준 데이터 (학교급별)

### 4.1 초등학생 기준 데이터

| 영역 (Depth 1) | 평균 (M) | 표준편차 (SD) |
|----------------|----------|---------------|
| 자아 강점 | 4.000202 | 0.684451 |
| 학습 디딤돌 | 3.516588 | 0.657908 |
| 학습 걸림돌 | 2.211231 | 0.811692 |
| 긍정적 공부마음 | 3.735423 | 0.720456 |
| 부정적 공부마음 | 2.490408 | 0.901732 |

### 4.2 중학생 기준 데이터

| 영역 (Depth 1) | 평균 (M) | 표준편차 (SD) |
|----------------|----------|---------------|
| 자아 강점 | 3.773297 | 0.695358 |
| 학습 디딤돌 | 3.406044 | 0.631972 |
| 학습 걸림돌 | 2.729071 | 0.802807 |
| 긍정적 공부마음 | 3.474255 | 0.700197 |
| 부정적 공부마음 | 3.090909 | 0.893001 |

### 4.3 고등학생 기준 데이터

| 영역 (Depth 1) | 평균 (M) | 표준편차 (SD) |
|----------------|----------|---------------|
| 자아 강점 | 3.755980 | 0.650126 |
| 학습 디딤돌 | 3.311934 | 0.559016 |
| 학습 걸림돌 | 2.837311 | 0.713598 |
| 긍정적 공부마음 | 3.373714 | 0.679072 |
| 부정적 공부마음 | 3.383230 | 0.802503 |

---

## 5. Z점수 - T점수 - 백분위 변환표

### 5.1 주요 변환값

| Z-Score | T-Score | 백분위 | 등급 |
|---------|---------|--------|------|
| -3.00 | 20 | 0.13% | 매우 낮음 |
| -2.00 | 30 | 2.28% | 낮음 |
| -1.00 | 40 | 15.87% | 보통 |
| 0.00 | 50 | 50.00% | 보통 |
| 1.00 | 60 | 84.13% | 높음 |
| 2.00 | 70 | 97.72% | 매우 높음 |
| 3.00 | 80 | 99.87% | 매우 높음 |

### 5.2 변환 공식

```
Z점수 → T점수: T = Z × 10 + 50
T점수 → Z점수: Z = (T - 50) / 10
Z점수 → 백분위: Φ(Z) × 100  (표준정규분포 누적확률)
```

---

## 6. API 구현 참고

### 6.1 T점수 계산 함수 (TypeScript)

```typescript
interface NormData {
  mean: number;      // 기준 평균
  sd: number;        // 기준 표준편차
  schoolLevel: 'elementary' | 'middle' | 'high';
}

function calculateTScore(rawMean: number, normData: NormData): number {
  const zScore = (rawMean - normData.mean) / normData.sd;
  const tScore = zScore * 10 + 50;
  return Math.round(tScore);  // 반올림
}
```

### 6.2 등급 판정 함수

```typescript
type Level = '매우낮음' | '낮음' | '보통' | '높음' | '매우높음';

function getLevel(tScore: number): Level {
  if (tScore < 30) return '매우낮음';
  if (tScore < 40) return '낮음';
  if (tScore < 60) return '보통';
  if (tScore < 70) return '높음';
  return '매우높음';
}
```

### 6.3 백분위 계산 함수

```typescript
function calculatePercentile(zScore: number): number {
  // 표준정규분포 누적확률 (근사)
  const a1 = 0.254829592;
  const a2 = -0.284496736;
  const a3 = 1.421413741;
  const a4 = -1.453152027;
  const a5 = 1.061405429;
  const p = 0.3275911;

  const sign = zScore < 0 ? -1 : 1;
  const z = Math.abs(zScore) / Math.sqrt(2);
  const t = 1.0 / (1.0 + p * z);
  const y = 1.0 - (((((a5 * t + a4) * t) + a3) * t + a2) * t + a1) * t * Math.exp(-z * z);
  
  const cdf = 0.5 * (1.0 + sign * y);
  return Math.round(cdf * 100 * 100) / 100;  // 소수점 2자리
}
```

---

## 7. 주의사항

### 7.1 해석 시 유의점

1. **정적요인**: 점수가 높을수록 긍정적
2. **부적요인**: 점수가 높을수록 부정적 (주의 필요)
3. 검사 시점의 상태를 반영하므로 시기에 따라 변동 가능
4. 전체를 완벽하게 설명하는 것이 아닌 일부 설명

### 7.2 데이터 처리 규칙

- 소수점 첫째 자리까지 계산 후 반올림
- 학교급별로 다른 기준 데이터 적용 필수
- 부적요인의 경우 해석 방향 주의
