# META 학습종합검사 - 샘플 데이터 패키지

## 개요
초등학생 20명의 학습종합검사 Raw Data + 결과 산출에 필요한 모든 기준 데이터.
이 데이터로 백엔드 결과 산출 로직(38요인 T점수, LPA 유형 분류, 스크립트 매칭)을 구현하고 검증할 수 있음.

---

## 파일 목록

| 파일 | 설명 |
|------|------|
| `raw_scores.csv` | 20명 × 124문항 원점수 (5점 리커트) |
| `answer_types.csv` | 20명 정답 유형 (검증용) |
| `item_factor_mapping.json` | Q1~Q124 → 38개 요인 매핑 |
| `norm_data.json` | 초등 기준 M, SD (T점수 계산용) |
| `lpa_centroids.json` | 3유형 중심값 38개 (LPA 분류용) |
| `reliability_items.json` | 신뢰도 지표 산출 기준 |
| `grade_table.json` | T점수 → 수준(5단계) 변환표 |
| `scripts_depth2.json` | 11개 중분류 × 5레벨 해석 스크립트 |
| `scripts_depth3.json` | 38개 변인 × 5레벨 해석 스크립트 |

---

## 결과 산출 파이프라인 (순서대로)

### Step 0: 신뢰도 체크
**파일: `reliability_items.json`**

3가지 중 1개라도 "주의"면 → 신뢰도 낮음 표시, 학급 평균에서 제외

1. **사회적 바람직성**: Q20, Q82, Q114의 평균 → T점수 (M=3.509, SD=0.759) → T≥65이면 "주의"
2. **반응일관성**: 3쌍 비교 (Q45↔Q105, Q65↔Q109, Q16↔Q43) → 각 |차이| → 3개 지표 각각 T점수 → 평균 T≥65이면 "주의"
3. **연속동일반응**: 같은 번호 연속 10개 이상이면 "예(주의)"

### Step 1: 원점수 계산 (38개 요인)
**파일: `raw_scores.csv` + `item_factor_mapping.json`**

```
각 요인의 원점수 = 해당 문항들의 평균
예: 자아존중감 = mean(Q60, Q92, Q108)
```

`item_factor_mapping.json`의 `factorGroups` 참조:
```json
{
  "자아존중감": [60, 92, 108],
  "자기효능감": [23, 58, 100],
  ...
}
```

### Step 2: T점수 변환
**파일: `norm_data.json`**

```
T = ((학생변인평균 - 기준M) / 기준SD) × 10 + 50
```

- `depth3_변인`: 38개 변인 각각의 M, SD
- `depth2_중분류`: 11개 중분류의 M, SD (중분류 T점수는 소속 변인 원점수 평균으로 계산)

### Step 3: 수준 판정
**파일: `grade_table.json`**

| T점수 범위 | 수준 |
|-----------|------|
| ~29.9 | 매우 낮음 |
| 30~39.9 | 낮음 |
| 40~59.9 | 보통 |
| 60~69.9 | 높음 |
| 70~ | 매우 높음 |

**주의**: 정적요인(27개)은 높을수록 좋음, 부적요인(11개)은 높을수록 위험

부적요인 목록:
- 학업스트레스: 성적부담, 공부부담, 수업부담
- 학업관계스트레스: 부모성적압력, 부모공부부담, 친구공부비교, 교사성적압력, 교사수업부담
- 학습방해물: 스마트폰의존, 게임과몰입
- 학업소진: 고갈, 무능감, 반감-냉소

### Step 4: LPA 유형 분류
**파일: `lpa_centroids.json`**

4단계 Bayesian 분류:

```
1) 각 유형별 Log-Likelihood 계산
   LL_k = Σ(-0.5 × ((student_T_i - centroid_k_i)² / variance))
   variance = 100 (고정)

2) 사전확률(prior) 반영
   log_posterior_k = LL_k + ln(prior_k)

3) Log-Sum-Exp 정규화
   max_lp = max(log_posterior)
   prob_k = exp(log_posterior_k - max_lp) / Σexp(log_posterior_j - max_lp)

4) 최고 확률 유형 = 분류 결과
```

**38개 요인 순서** (lpa_centroids.json의 factorsOrder):
```
자아존중감, 자기효능감, 성장마인드셋,
자기정서인식, 자기정서조절, 타인정서인식, 타인공감능력,
계획능력, 점검능력, 조절능력,
공부환경, 시간관리, 수업태도, 노트하기, 시험준비,
부모의사소통, 부모학업지지, 친구정서지지, 교사정서지지,
활기, 몰두, 의미감,
자율성, 유능성, 관계성,
성적부담, 공부부담, 수업부담,
스마트폰의존, 게임과몰입,
부모성적압력, 부모공부부담, 친구공부비교, 교사성적압력, 교사수업부담,
고갈, 무능감, 반감냉소
```

**⚠️ 이름 매칭 주의**: 
- norm_data.json 변인명에는 공백이 있음 (예: "부모 의사소통", "스마트폰 의존")
- lpa_centroids.json 요인순서에는 공백 없음 (예: "부모의사소통", "스마트폰의존")
- 매칭 시 공백 제거 후 비교 필요

3개 유형 (초등):
- **자원소진형** (prior: 0.306): 심리정서적 자원 낮음, 스트레스 높음
- **안전균형형** (prior: 0.355): 자원과 스트레스 균형
- **몰입자원풍부형** (prior: 0.340): 자원 풍부, 스트레스 낮음

### Step 5: 유형 내 특이점 추출

```
학생 T점수 vs 같은 유형 centroid 비교
deviation = |student_T - centroid_T|
deviation > 10 (1 SD)이면 특이점으로 표시
```

### Step 6: 스크립트 매칭
**파일: `scripts_depth2.json`, `scripts_depth3.json`**

T점수의 수준(Step 3)에 해당하는 스크립트를 매칭.
각 스크립트에 `tScore_lower`, `tScore_upper` 범위가 있음.

---

## 검증 방법

`answer_types.csv`에 20명의 정답 유형이 있음.
LPA 분류 결과와 비교하여 정확도 검증 가능.

```
유형 분포: 자원소진형 9명, 몰입자원풍부형 7명, 안전균형형 4명
```

---

## 5대 영역 → 11개 중분류 → 38개 소분류 구조

### 1. 자아 강점 (학습자원 - 정적)
- **긍정적 자아**: 자아존중감, 자기효능감, 성장마인드셋
- **대인관계능력**: 자기정서인식, 자기정서조절, 타인정서인식, 타인공감능력

### 2. 학습 디딤돌 (학습자원 - 정적)
- **메타인지**: 계획능력, 점검능력, 조절능력
- **학습기술**: 공부환경, 시간관리, 수업태도, 노트하기, 시험준비
- **지지적 관계**: 부모의사소통, 부모학업지지, 친구정서지지, 교사정서지지

### 3. 긍정적 공부마음 (학습자원 - 정적)
- **학업열의**: 활기, 몰두, 의미감
- **성장력**: 자율성, 유능성, 관계성

### 4. 학습 걸림돌 (위험요인 - 부적)
- **학업스트레스**: 성적부담, 공부부담, 수업부담
- **학습방해물**: 스마트폰의존, 게임과몰입

### 5. 부정적 공부마음 (위험요인 - 부적)
- **학업관계스트레스**: 부모성적압력, 부모공부부담, 친구공부비교, 교사성적압력, 교사수업부담
- **학업소진**: 고갈, 무능감, 반감-냉소

---

## 학습 진단 문항 (별도)
Q120~Q124는 38개 요인에 포함되지 않는 독립 문항:
- Q120: 학업성취도
- Q121: 성적만족도
- Q122: 학습동기
- Q123: 혼자공부시간
- Q124: 학습고민상담사
